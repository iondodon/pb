		<table width="735" cellpadding="0" cellspacing="0"><tbody><tr><td align="right" valign="middle"><form style="margin:0px; padding:0px;" action="index.php" method="get"><input name="submit" value="submit" onmouseover="this.src='style/trimitesolutieover.jpg'" onmouseout="this.src='style/trimitesolutie.jpg'" type="image" src="style/trimitesolutie.jpg" border="0"><input type="hidden" name="page" value="problem"><input type="hidden" name="action" value="submit"><input type="hidden" name="id" value="1196"><input type="hidden" name="contest_id" value="0">
        </form><br><a href="index.php?page=problem&amp;id=1196&amp;milestone=1"><strong>problemă favorită</strong>&nbsp;<img id="favo" src="style/star0.bmp" border="0" alt="favorit"></a><br><br></td></tr></tbody></table> <link rel="stylesheet" type="text/css" href="auxiliare/template.css">
					<table width="100%" border="0" cellspacing="0" cellpadding="10" class="fundalee"><tbody><tr><td><span class="titlu"><span id="id_name"></span>izvor<span id="_id_name"></span></span></td><td class="fundalcampion" align="right"><br><br><br><table><tbody><tr><td><div align="left"><span class="albastru">Timp maxim de execuţie / test:</span></div></td><td><div align="right"><span class="bold"><span class="albastru"><span id="id_execution_time"></span>1.2<span id="_id_execution_time"></span>s</span></span></div></td></tr><tr><td><div align="left"><span class="albastru">Memorie totala disponibilă / stivă:</span></div></td><td><div align="right"><span class="bold"><span class="albastru"><span id="id_total_memory"></span>2<span id="_id_total_memory"></span>MB / <span id="id_stack_memory"></span>1<span id="_id_stack_memory"></span>MB</span></span></div></td></tr></tbody></table><br></td></tr></tbody></table><table width="100%" border="0" cellspacing="0" cellpadding="10"><tbody><tr><td><div align="justify"><span id="id_statement"></span>Suntem un grup de iubitori ai muntelui şi plănuim pentru vacanţa mare o expediţie în Apuseni. Studiind atent harta, am observat că există <code>N</code> cabane, pe care le-am numerotat de la 1 la <code>N</code>. Pe hartă sunt marcate şi cele <code>P</code> poteci pe care se poate circula în siguranţă. O potecă uneşte două cabane şi, evident, poate fi parcursă în ambele sensuri.<br>
În Apuseni există multe izvoare subterane şi am observat pe hartă că unele poteci traversează izvoare. Am marcat pe hartă cu 1 potecile care traversează izvoare subterane şi cu 0 pe cele care nu traversează izvoare subterane.<br>
Ne interesează să studiem traseele distincte care îndeplinesc simultan următoarele condiţii:<br>
-	un traseu trece pe la <code>M</code> cabane exact o singură dată;<br>
-	între oricare două cabane consecutive pe traseu există potecă de legătură şi cel puţin una dintre aceste poteci  traversează un izvor subteran;<br>
-	de la ultima cabană de pe traseu se poate reveni la cabana de plecare folosind o potecă.<br>
Două trasee sunt considerate distincte dacă există cel puţin o poziţie <code>i</code> (<code>1≤i≤M</code>) astfel încât a <code>i</code>-a cabană de pe primul traseu este diferită de a <code>i</code>-a cabană de pe cel de-al doilea traseu.<br>
<span id="_id_statement"></span><p class="subtitlu">Cerinţă</p><span id="id_request"></span>Cunoscând harta regiunii, să se determine numărul de trasee distincte care îndeplinesc condiţiile din enunţ. <span id="_id_request"></span><p class="subtitlu">Date de intrare</p><span id="id_input_data"></span>Fişierul de intrare <code>izvor.in</code> va conţine pe prima linie numerele naturale <code>N P M</code>, separate prin câte un singur spaţiu, având semnificaţia din enunţ. Pe următoarele <code>P</code> linii sunt descrise cele <code>P</code> poteci, câte o potecă pe o linie, sub forma a 3 numere naturale separate prin spaţii <code>x y z</code> cu semnificaţia: ″există potecă între cabanele <code>x</code> şi <code>y</code>; <code>z</code> este 1 dacă poteca trece peste un izvor subteran, respectiv 0, în caz contrar″.<span id="_id_input_data"></span><p class="subtitlu">Date de ieşire</p><span id="id_output_data"></span>Fişierul de ieşire <code>izvor.out</code> va conţine o singură linie pe care va fi scris un număr natural ce reprezintă numărul de trasee distincte ce îndeplinesc condiţiile din enunţ.<span id="_id_output_data"></span><p class="subtitlu">Restricţii</p><span id="id_restrictions"></span><code>4 ≤ N ≤ 20<br>
3 ≤ P ≤ 100<br>
3 ≤ M ≤ 7</code><br>
Între oricare două cabane <code>x</code> şi <code>y</code> poate exista cel mult o potecă ce poate fi parcursă atât de la <code>x</code> la <code>y</code>, cât şi de la <code>y</code> la <code>x</code>.<br>
Numărul de soluţii nu depăşeşte <code>10<sup>12</sup></code>.<br>
<span id="_id_restrictions"></span><p class="subtitlu">Exemple</p><table cellpadding="5" cellspacing="0" border="1" width="100%" class="table_"><tbody><tr><td class="antet_"><strong><code>izvor.in</code></strong></td><td class="antet_"><strong><code>izvor.out</code></strong></td><td class="antet_"><strong>Explicaţii</strong></td></tr><tr><td class="tabel_" valign="top"><code><span class="nowr"><span id="id_input_data_1"></span>5 6 3
1 2 0
1 3 0
1 4 0
2 3 0
2 4 1
2 5 1
<span id="_id_input_data_1"></span></span></code></td><td class="tabel_" valign="top"><code><span class="nowr">4
<span id="_id_output_data_1"></span></span></code></td><td class="tabel_" valign="top"><span id="id_example_explanation_1"></span>Există 5 cabane şi 6 poteci, dintre care două traversează izvoare subterane. <br>
Cele 4 trasee care îndeplinesc condiţiile din enunţ sunt:<br>
<code>1 2 4 <br>
1 4 2 <br>
2 4 1 <br>
4 2 1</code><span id="_id_example_explanation_1"></span></td></tr></tbody></table><br><table cellpadding="2" cellspacing="0" border="0" align="right"><tbody><tr><td align="right">autor: <span class="bold">Prof. Silvia Grecu</span></td></tr><tr><td align="right">propunător: <span class="bold">Prof. Emanuela Cerchez</span></td></tr><tr><td align="right" class="italic">Colegiul Naţional ″Emil Racoviţă″</td></tr><tr><td align="right"><a href="mailto:emanuela.cerchez@gmail.com">emanuela.cerchez@gmail.com</a></td></tr></tbody></table></div></td></tr></tbody></table><div class="subtitlu">Articole recomandate</div>
                <div class="loctabel"><table class="tabel2" cellpadding="2" cellspacing="0">
                
                
                <tbody><tr><td valign="top" width="200px"><strong>Despre <a href="index.php?page=keyword&amp;action=view&amp;id=16">backtracking</a>: </strong></td><td valign="top"><a href="index.php?page=paper&amp;action=view&amp;id=25">Determinarea clicilor</a></td></tr></tbody></table></div><div class="subtitlu">Probleme recomandate</div>
                <div class="loctabel"><table class="tabel2" cellpadding="2" cellspacing="0">
                
                    <tbody><tr><td valign="top" width="200px"><strong>De la <a href="index.php?page=location&amp;id=82">OMI Iaşi 2011</a>: </strong></td><td valign="top"><a href="index.php?page=problem&amp;action=view&amp;id=1193">rachete</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1194">pin</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1195">drenaj</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1197">canguri</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1198">teme</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1199">numar4</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1200">alfabetar</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1201">cuvinte2</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1202">minmax</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1203">sumacifre</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1204">jocprim</a></td></tr><tr><td valign="top" width="200px"><strong>De acelaşi <a href="index.php?page=auth&amp;type=author&amp;id=76">autor</a>: </strong></td><td valign="top"><a href="index.php?page=problem&amp;action=view&amp;id=754">cod4</a>, <a href="index.php?page=problem&amp;action=view&amp;id=989">muguri</a></td></tr><tr><td width="200px" valign="top"><strong>Despre <a href="index.php?page=keyword&amp;action=view&amp;id=16">backtracking</a>: </strong></td><td valign="top"><a href="index.php?page=problem&amp;action=view&amp;id=95">acop</a>, <a href="index.php?page=problem&amp;action=view&amp;id=107">bipal</a>, <a href="index.php?page=problem&amp;action=view&amp;id=170">magic2</a>, <a href="index.php?page=problem&amp;action=view&amp;id=225">vagoane</a>, <a href="index.php?page=problem&amp;action=view&amp;id=230">friends</a>, <a href="index.php?page=problem&amp;action=view&amp;id=231">tricouri</a>, <a href="index.php?page=problem&amp;action=view&amp;id=313">festival</a>, <a href="index.php?page=problem&amp;action=view&amp;id=316">numar</a>, <a href="index.php?page=problem&amp;action=view&amp;id=327">pento</a>, <a href="index.php?page=problem&amp;action=view&amp;id=329">ro</a>, <a href="index.php?page=problem&amp;action=view&amp;id=393">jobs</a>, <a href="index.php?page=problem&amp;action=view&amp;id=397">onu2</a>, <a href="index.php?page=problem&amp;action=view&amp;id=417">sir3</a>, <a href="index.php?page=problem&amp;action=view&amp;id=433">cai1</a>, <a href="index.php?page=problem&amp;action=view&amp;id=440">labirint</a>, <a href="index.php?page=problem&amp;action=view&amp;id=446">dans</a>, <a href="index.php?page=problem&amp;action=view&amp;id=452">ham</a>, <a href="index.php?page=problem&amp;action=view&amp;id=467">sudoku</a>, <a href="index.php?page=problem&amp;action=view&amp;id=473">caramele</a>, <a href="index.php?page=problem&amp;action=view&amp;id=477">linie</a>, <a href="index.php?page=problem&amp;action=view&amp;id=527">puncte</a>, <a href="index.php?page=problem&amp;action=view&amp;id=591">castel</a>, <a href="index.php?page=problem&amp;action=view&amp;id=592">excursia</a>, <a href="index.php?page=problem&amp;action=view&amp;id=603">joc7</a>, <a href="index.php?page=problem&amp;action=view&amp;id=607">pattern</a>, <a href="index.php?page=problem&amp;action=view&amp;id=669">avere</a>, <a href="index.php?page=problem&amp;action=view&amp;id=682">paianjen</a>, <a href="index.php?page=problem&amp;action=view&amp;id=706">medii</a>, <a href="index.php?page=problem&amp;action=view&amp;id=713">monkey</a>, <a href="index.php?page=problem&amp;action=view&amp;id=798">scara1</a>, <a href="index.php?page=problem&amp;action=view&amp;id=842">numere8</a>, <a href="index.php?page=problem&amp;action=view&amp;id=859">banda1</a>, <a href="index.php?page=problem&amp;action=view&amp;id=910">spirala1</a>, <a href="index.php?page=problem&amp;action=view&amp;id=949">cofetar</a>, <a href="index.php?page=problem&amp;action=view&amp;id=952">gradina</a>, <a href="index.php?page=problem&amp;action=view&amp;id=978">placa</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1050">smin</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1072">jucarii</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1078">immortal</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1087">concat</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1093">cubinvers</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1142">codif</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1303">avioane</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1343">jb</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1373">prisme</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1434">triburi1</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1470">genab</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1488">dineu</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1614">antitero</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1641">ornament</a>, <a href="index.php?page=problem&amp;action=view&amp;id=1702">virgule</a></td></tr>                    
                </tbody></table>

                </div>